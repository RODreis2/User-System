===== ./main.go =====
package main

import (
	"fmt"
	"log"
	"net/http"
	"web-app/handlers"
)

func main() {
	// Initialize database
	err := handlers.InitDB("./webapp.db")
	if err != nil {
		log.Fatal("Failed to initialize database:", err)
	}
	
	// Main routes
	http.HandleFunc("/", handlers.HomeHandler)

	// Auth routes
	http.HandleFunc("/login", handlers.AuthLoginHandler)
	http.HandleFunc("/register", handlers.AuthRegisterHandler)

	// User routes
	http.HandleFunc("/profile", handlers.UserProfileHandler)
	http.HandleFunc("/profile/update", handlers.UserUpdateProfileHandler)
	http.HandleFunc("/profile/change-password", handlers.UserChangePasswordHandler)

	// Admin routes
	http.HandleFunc("/admin", handlers.AdminDashboardHandler)
	http.HandleFunc("/admin/users", handlers.AdminUsersManagementHandler)

	// Order routes
	http.HandleFunc("/orders", handlers.OrderListHandler)
	http.HandleFunc("/orders/create", handlers.OrderCreateHandler)
	http.HandleFunc("/orders/view", handlers.OrderGetHandler)

	fmt.Printf("Starting server at port 8080\n")
	if err := http.ListenAndServe(":8080", nil); err != nil {
		log.Fatal(err)
	}
}
===== ./go.mod =====
module web-app

go 1.21

require github.com/mattn/go-sqlite3 v1.14.22

===== ./README.md =====
# Simple Go Web Server

This is a basic web server written in Go that serves a simple welcome message.

## Prerequisites

- Go 1.21 or later

## Running the Server

1. Clone this repository
2. Navigate to the project directory
3. Run the server:
   ```bash
   go run main.go
   ```
4. Open your browser and visit `http://localhost:8080`

## Project Structure

- `main.go` - Contains the main web server code
- `go.mod` - Go module file for dependency management 
===== ./templates/login.html =====
<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    <h2>Login</h2>
    {{if .Error}}
    <div>{{.Error}}</div>
    {{end}}
    <form action="/login" method="POST">
        <div>
            <label>Username:</label>
            <input type="text" name="username" required>
        </div>
        <div>
            <label>Password:</label>
            <input type="password" name="password" required>
        </div>
        <button type="submit">Login</button>
    </form>
    <p>Don't have an account? <a href="/register">Register here</a></p>
</body>
</html> 
===== ./templates/register.html =====
<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
</head>
<body>
    <h2>Register</h2>
    {{if .Error}}
    <div>{{.Error}}</div>
    {{end}}
    <form action="/register" method="POST">
        <div>
            <label>Username:</label>
            <input type="text" name="username" required>
        </div>
        <div>
            <label>Password:</label>
            <input type="password" name="password" required>
        </div>
        <div>
            <label>Confirm Password:</label>
            <input type="password" name="confirm_password" required>
        </div>
        <button type="submit">Register</button>
    </form>
    <p>Already have an account? <a href="/login">Login here</a></p>
</body>
</html> 
===== ./handlers/handlers.go =====
package handlers

import (
	"fmt"
	"net/http"
)

// HomeHandler handles the home page
func HomeHandler(w http.ResponseWriter, r *http.Request) {
	if r.URL.Path != "/" {
		http.NotFound(w, r)
		return
	}
	w.Header().Set("Content-Type", "text/html")
	fmt.Fprintf(w, `
		<!DOCTYPE html>
		<html>
		<head>
			<title>Welcome</title>
		</head>
		<body>
			<h2>Welcome to the Go Web Server!</h2>
			<button onclick="window.location.href='/login'">Login</button> | 
			<button onclick="window.location.href='/register'">Register</button>
		</body>
		</html>
	`)
}

// NotFoundHandler handles 404 errors
func NotFoundHandler(w http.ResponseWriter, r *http.Request) {
	w.WriteHeader(http.StatusNotFound)
	w.Header().Set("Content-Type", "text/html")
	fmt.Fprintf(w, `
		<!DOCTYPE html>
		<html>
		<head>
			<title>404 Not Found</title>
		</head>
		<body>
			<h2>404 - Page not found</h2>
		</body>
		</html>
	`)
}
===== ./handlers/admin.go =====
package handlers

import (
	"net/http"
)

// AdminDashboardHandler handles the admin dashboard
func AdminDashboardHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement admin dashboard
	w.Write([]byte("Admin Dashboard - Coming Soon"))
}

// AdminUsersManagementHandler handles user management for admins
func AdminUsersManagementHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement user management
	w.Write([]byte("User Management - Coming Soon"))
}

===== ./handlers/auth.go =====
package handlers

import (
	"database/sql"
	"html/template"
	"net/http"
	_ "github.com/mattn/go-sqlite3"
)

var (
	db   *sql.DB
	tmpl *template.Template
)

// User represents a registered user
type User struct {
	ID       int
	Username string
	Password string
	IsAdmin  bool
}

// TemplateData holds data for template rendering
type TemplateData struct {
	Error string
}

func InitDB(databasePath string) error {
	var err error
	db, err = sql.Open("sqlite3", databasePath)
	if err != nil {
		return err
	}

	// Create users table if it doesn't exist
	createTableSQL := `
	CREATE TABLE IF NOT EXISTS users (
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		username TEXT NOT NULL UNIQUE,
		password TEXT NOT NULL,
		is_admin BOOLEAN DEFAULT FALSE
	);`
	_, err = db.Exec(createTableSQL)
	if err != nil {
		return err
	}

	return nil
}

func init() {
	var err error
	tmpl, err = template.ParseGlob("templates/*.html")
	if err != nil {
		panic(err)
	}
}

// AuthLoginHandler handles user login
func AuthLoginHandler(w http.ResponseWriter, r *http.Request) {
	data := TemplateData{}

	if r.Method == "GET" {
		tmpl.ExecuteTemplate(w, "login.html", data)
		return
	}

	if r.Method == "POST" {
		username := r.FormValue("username")
		password := r.FormValue("password")

		var user User
		err := db.QueryRow("SELECT id, username, password, is_admin FROM users WHERE username = ?", username).
			Scan(&user.ID, &user.Username, &user.Password, &user.IsAdmin)
		if err != nil || user.Password != password {
			data.Error = "Invalid username or password"
			tmpl.ExecuteTemplate(w, "login.html", data)
			return
		}

		http.Redirect(w, r, "/", http.StatusSeeOther)
		return
	}
}

// AuthRegisterHandler handles user registration
func AuthRegisterHandler(w http.ResponseWriter, r *http.Request) {
	data := TemplateData{}

	if r.Method == "GET" {
		tmpl.ExecuteTemplate(w, "register.html", data)
		return
	}

	if r.Method == "POST" {
		username := r.FormValue("username")
		password := r.FormValue("password")
		confirmPass := r.FormValue("confirm_password")

		if password != confirmPass {
			data.Error = "Passwords do not match"
			tmpl.ExecuteTemplate(w, "register.html", data)
			return
		}

		_, err := db.Exec("INSERT INTO users (username, password, is_admin) VALUES (?, ?, ?)", username, password, false)
		if err != nil {
			data.Error = "Username already exists or registration failed"
			tmpl.ExecuteTemplate(w, "register.html", data)
			return
		}

		http.Redirect(w, r, "/login", http.StatusSeeOther)
		return
	}
}
===== ./handlers/orders.go =====
package handlers

import (
	"fmt"
	"net/http"
)

// OrderData represents an order in the system
type OrderData struct {
	ID          string
	UserID      string
	Items       []string
	TotalAmount float64
	Status      string
}

// OrderListHandler handles listing all orders
func OrderListHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement order listing
	fmt.Fprintf(w, "Orders List - Coming Soon")
}

// OrderCreateHandler handles order creation
func OrderCreateHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement order creation
	fmt.Fprintf(w, "Create Order - Coming Soon")
}

// OrderGetHandler handles retrieving a specific order
func OrderGetHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement get order
	fmt.Fprintf(w, "Get Order - Coming Soon")
}

===== ./handlers/users.go =====
package handlers

import (
	"fmt"
	"net/http"
)

// UserProfileData represents additional user profile information
type UserProfileData struct {
	Username   string
	Email      string
	FirstName  string
	LastName   string
	DateJoined string
}

// UserProfileHandler handles user profile viewing/editing
func UserProfileHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement user profile
	fmt.Fprintf(w, "User Profile - Coming Soon")
}

// UserUpdateProfileHandler handles profile updates
func UserUpdateProfileHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement profile update
	fmt.Fprintf(w, "Update Profile - Coming Soon")
}

// UserChangePasswordHandler handles password changes
func UserChangePasswordHandler(w http.ResponseWriter, r *http.Request) {
	// TODO: Implement password change
	fmt.Fprintf(w, "Change Password - Coming Soon")
}

===== ./go.sum =====
github.com/mattn/go-sqlite3 v1.14.22 h1:2gZY6PC6kBnID23Tichd1K+Z0oS6nE/XwU+Vz/5o4kU=
github.com/mattn/go-sqlite3 v1.14.22/go.mod h1:Uh1q+B4BYcTPb+yiD3kU8Ct7aC0hY9fxUwlHK0RXw+Y=

===== ./webapp.db =====
SQLite format 3   @                                                                     .vâ¯ ∆ Õ∆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)Å2ÇCtableusersusersCREATE TABLE users (
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		username TEXT NOT NULL UNIQUE,
		password TEXT NOT NULL,
		is_admin BOOLEAN DEFAULT FALSE
	))= indexsqlite_autoindex_users_1users          ‹ Ì‹                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 porrasalve savefortnite
   Ó Ó¯                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  	porra	save   ı ı                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           	users
